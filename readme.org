#+TITLE: Dired Sidebar

[[https://travis-ci.org/jojojames/dired-sidebar][file:https://travis-ci.org/jojojames/dired-sidebar.svg?branch=master]]
[[https://melpa.org/#/dired-sidebar][file:https://melpa.org/packages/dired-sidebar-badge.svg]]

* Screenshots
  With All The Icons
  [[./screenshots/with_dired_subtree.png]]

  With Arrows
  [[./screenshots/arrows.png]]

  With Text UI
  #+CAPTION: Text User Interface
  #+NAME: With Text UI
  [[./screenshots/tui.png]]

* Installation
** Melpa
   I recommend using [[https://github.com/jwiegley/use-package][use-package]].

   #+begin_src emacs-lisp :tangle yes
(use-package dired-sidebar
  :ensure t
  :commands (dired-sidebar-toggle-sidebar)
  :config
  (use-package all-the-icons-dired
    ;; M-x all-the-icons-install-fonts
    :ensure t
    :commands (all-the-icons-dired-mode)))
   #+end_src
** Minimal Bootstrap using Git
   #+begin_src sh :tangle yes
   git clone https://github.com/jojojames/dired-sidebar
   cd dired-sidebar
   pwd # [Put this in load path.]

   git clone https://github.com/Fuco1/dired-hacks
   cd dired-hacks
   pwd # [Put this in load path.]
   #+end_src

   Add config to Emacs:
   #+begin_src emacs-lisp :tangle yes
   (add-to-list 'load-path "path from pwd")
   (require 'dired-sidebar)
   M-x dired-sidebar-toggle-sidebar
   #+end_src
* My Settings
  #+begin_src emacs-lisp :tangle yes
(use-package dired-sidebar
  :bind (("C-x C-n" . dired-sidebar-toggle-sidebar))
  :ensure t
  :commands (dired-sidebar-toggle-sidebar)
  :config
  (when (eq system-type 'windows-nt)
    (setq dired-sidebar-use-all-the-icons nil))

  (setq dired-sidebar-use-term-integration t)
  (setq dired-sidebar-use-custom-font t)
  (setq dired-sidebar-face
        (cond
         ((eq system-type 'darwin)
          '(:family "Helvetica" :height 140))
         ((eq system-type 'windows-nt)
          '(:family "Times New Roman" :height 130))
         (:default
          '(:family "Arial" :height 140))))

  (use-package all-the-icons-dired
    ;; M-x all-the-icons-install-fonts
    :ensure t
    :commands (all-the-icons-dired-mode)))

  #+end_src

  For configuration, I recommend looking at the defcustoms in ~dired-sidebar.el~.
* Features
** Dired
   As a result of using ~dired~ as a base, many features and functionality already
   exist in a polished state with standard keybindings an Emacs user will already
   be familiar with. Because of this ~dired-sidebar~'s codebase can stay small and lean,
   serving as the glue to several different packages.
** Fast
   Having used the [[*Alternatives][alternatives]] listed below, in my opinion,
   ~dired-sidebar~ is the fastest of the bunch.

   Trying to open and navigate in emacs/src/lisp (or another directory I've forgotten)
   led to writing my own sidebar as I was not satisfied with the speed of the other drawers.
** Multiple Frames
   Sidebar may be used in multiple frames with each frame having its own sidebar state.
** File Following
   Sidebar can be periodically set to refresh to reflect the currently selected file.

   When Sidebar is initially opened, folders will be automatically expanded to
   point to the current file.
** Mouse Support
   Close/expand folders and open files with left click.
** Session Persistence
   Leverages ~dired~'s ~desktop-save-mode~ support for persistence.
** Projectile
   Integrated with [[https://github.com/bbatsov/projectile][projectile]].

   Sidebar opens up with ~projectile~'s root as sidebar's root.
   Sidebar will also automatically update its root when projectile changes root.
** Dired Subtree
   Integrated with [[https://github.com/Fuco1/dired-hacks][dired-subtree]].

   Close and expand folders with dired-subtree.
** Ace Window
   Integrated with [[https://github.com/abo-abo/ace-window][ace-window]].

   Select the window files are to be opened in.
** File Watching / Automatic Refresh
   ~dired-sidebar~ will automatically update to reflect file changes as well as
   after a few special commands.

   Take a look at ~dired-sidebar-refresh-on-special-commands~ and
   ~dired-sidebar-special-refresh-commands~ for more configuration.
** All The Icons Integration
   Uses [[https://github.com/jtbm37/all-the-icons-dired][all-the-icons]] for icons.
** Terminal Support
   Icons will be replaced with "+" and "-" to indicate folder nesting in terminals.
** Evil Integration
   Keys are bound for [[https://github.com/emacs-evil/evil][evil]].
** Magit Integration
   Integrated with [[https://github.com/magit/magit][magit]].

   Toggling the sidebar in ~magit~ sets sidebar's root at ~magit~'s directory.
   If point was on a file in ~magit~, point at the file upon opening ~dired-sidebar~.
** Dependencies
   Only ~dired-subtree~ is required. The other integrations are optional
   and dynamically detected.
* Alternatives
  https://github.com/Alexander-Miller/treemacs

  https://github.com/jaypei/emacs-neotree

  https://github.com/sabof/project-explorer
* Running Tests
  #+begin_src sh :tangle yes
  cask
  make compile
  make lint
  make test
  #+end_src
* Help Wanted
  TUI interface is slow compared to all-the-icons version.
